<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<script type="text/javascript"
		src="http://maps.google.com/maps/api/js?sensor=true" />
	<link href="css/style_teste.css" rel="stylesheet" type="text/css" />
	<script src="js/script_cadastro.js"></script>
	<title>Cadastro de Paradas</title>
</h:head>
<h:body>

	<h:outputStylesheet library="css" name="default.css" />
<div class="limitar">
		<div class="menu">
			<p:menubar style="font-size:11px; border:none;">

				<p:menuitem value="Início " url="home.jsf" icon="ui-icon-home" />

				<p:submenu label="Cadastro " icon="ui-icon-document">

					<p:submenu label="Usuarios">
						<p:menuitem value="Novo" url="usuario_cadastro.jsf" icon="ui-icon-plus" />
						<p:menuitem value="Listagem" url="usuario_listar.jsf" icon="ui-icon-clipboard" />
					</p:submenu>

					<p:submenu label="Itinerario">
						<p:menuitem value="Novo" url="itinerario_cadastro.jsf" icon="ui-icon-plus" />
						<p:menuitem value="Listagem" url="itinerario_listar.jsf" icon="ui-icon-clipboard" />
					</p:submenu>

					<p:submenu label="ônibus">
						<p:menuitem value="Novo" url="onibus_cadastro.jsf" icon="ui-icon-plus" />
						<p:menuitem value="Listagem" url="onibus_listar.jsf" icon="ui-icon-clipboard" />
					</p:submenu>

					<p:submenu label="Parada">
						<p:menuitem value="Novo" url="parada_cadastro.jsf" icon="ui-icon-plus" />
						<p:menuitem value="Listagem" url="parada_listar.jsf" icon="ui-icon-clipboard" />
					</p:submenu>

				</p:submenu>

				<p:menuitem value="Sair "
					actionListener="#{sessaoMB.destruir_sessao_encaminhar}" url="login.jsf" />

			</p:menubar>
		</div>
	</div>
	<p:growl id="mensagem" showDetail="true" showSummary="false"></p:growl>
	<div class="limitar">

		<div class="painel_esquerdo">
			<h:panelGrid columns="1">
				<h:form>
					<h:outputText value="Intinerário" />
					<h:selectOneMenu styleClass="wh130"  style="font-size:16px; width:245px; height:32px;"
						value="#{cadastrarParadaMB.idItinerario}">
						<f:selectItem itemLabel=" .:Selecione:. " />
						<f:selectItems var="itinerario"
							value="#{cadastrarParadaMB.listaItinerarios}"
							itemLabel="#{itinerario.nome}" itemValue="#{itinerario.numero}" />
					</h:selectOneMenu>
					<h:commandButton
						actionListener="#{cadastrarParadaMB.selecionarItinerario}"
						value="Selecionar"></h:commandButton>
				</h:form>
			</h:panelGrid>
		</div>
		
		<div class="painel_direito">
			<p:gmap id="mapa" center="#{cadastrarParadaMB.posicao}" zoom="13"
				model="#{cadastrarParadaMB.locais}" onPointClick="dlgLocal.show()"
				type="ROADMAP" style="width:750px;height:600px">
				<p:ajax event="pointSelect" listener="#{cadastrarParadaMB.novo}"
					update="formLocal" />
			</p:gmap>

			<p:dialog widgetVar="dlgLocal">
				<h:form id="formLocal">
					<p:focus for="desc" />
					<h:panelGrid columns="2" style="width:100%">
						<h:outputLabel for="desc" value="Descrição:" />
						<p:inputText id="desc" value="#{cadastrarParadaMB.parada.nome}" onkeypress="return VerificaNomeProprio(event);" />
						<h:outputText value="Ordem" />
						<h:inputText value="#{cadastrarParadaMB.parada.ordem}" onkeypress="return VerificaInteiro(event);" ></h:inputText>
					</h:panelGrid>
					<p:commandButton value="Gravar"
						actionListener="#{cadastrarParadaMB.gravar()}"
						oncomplete="dlgLocal.hide()" update=":mapa :mensagem" />
				</h:form>
			</p:dialog>
		</div>
	</div>
</h:body>
</html>