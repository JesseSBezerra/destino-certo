<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<script type="text/javascript"
		src="http://maps.google.com/maps/api/js?sensor=true" />
	<link href="css/style_teste.css" rel="stylesheet" type="text/css" />
	<title>GMap</title>
</h:head>
<h:body>
	<p:gmap id="mapa" center="-8.126106,-34.92289" zoom="14"
		model="#{cadastrarParadaMB.locais}" onPointClick="dlgLocal.show()"
		type="ROADMAP" style="width:800px;height:600px">
		<p:ajax event="pointSelect" listener="#{cadastrarParadaMB.novo}"
			update="formLocal" />
	</p:gmap>

	<p:dialog widgetVar="dlgLocal">
		<h:form id="formLocal">
			<p:focus for="desc" />
			<h:panelGrid columns="2" style="width:100%">
				<h:outputLabel for="desc" value="Descrição:" />
				<p:inputText id="desc" value="#{cadastrarParadaMB.parada.nome}" />
				<h:outputText value="Ordem" />
				<h:inputText value="#{cadastrarParadaMB.parada.ordem}"></h:inputText>
			</h:panelGrid>
			<p:commandButton value="Gravar"
				actionListener="#{cadastrarParadaMB.gravar()}"
				oncomplete="dlgLocal.hide()" update=":mapa" />
		</h:form>
	</p:dialog>

	<div class="painel_direito">
		<h:panelGrid columns="1">
			<h:form>
				<h:outputText value="Intinerário" />
				<h:selectOneMenu styleClass="wh130"
					value="#{cadastrarParadaMB.idItinerario}">
					<f:selectItem itemLabel=" .:Selecione:. " />
					<f:selectItems var="itinerario"
						value="#{cadastrarParadaMB.listaItinerarios}"
						itemLabel="#{itinerario.nome}" itemValue="#{itinerario.numero}" />
				</h:selectOneMenu>
				<h:commandButton actionListener="#{cadastrarParadaMB.selecionarItinerario}" value="Selecionar"></h:commandButton>
			</h:form>
		</h:panelGrid>
	</div>
</h:body>
</html>